//! FFI bindings to the C++ CUDA library (auto-generated by bindgen)
//!
//! This module contains the raw FFI bindings generated from the C headers.
//! These are low-level bindings that should generally not be used directly.
//!
//! Note: The type definitions and extern functions below are auto-generated
//! by bindgen from wrapper.h during the build process. Do not edit them manually.
//! See build.rs for the bindgen configuration.

#![allow(non_upper_case_globals)]
#![allow(non_camel_case_types)]
#![allow(non_snake_case)]
#![allow(dead_code)]
#![allow(clippy::all)]

include!("bindings.rs");

// Custom Rust implementations for the generated types.
// These provide convenient constructors and conversion methods.

impl Fp {
    /// Create a new Fp from limbs (in normal form - must convert to Montgomery for computation)
    pub fn new(limbs: [u64; 7]) -> Self {
        Self { limb: limbs }
    }

    /// Create a new Fp from a BigInt-like structure (in normal form)
    /// This is a convenience method for compatibility with tfhe-zk-pok's BigInt<7>
    pub fn from_bigint<const N: usize>(bigint: &[u64; N]) -> Self {
        let mut limbs = [0u64; 7];
        let copy_len = N.min(7);
        limbs[..copy_len].copy_from_slice(&bigint[..copy_len]);
        Self { limb: limbs }
    }
}
